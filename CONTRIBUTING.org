#+title: Contributing

* Code Organization

OooapI aims to approach the problem of HTTP client generation thru principled
metaprogramming. This in contrast to an approach for

- [[./bin/][./bin]] :: The =oooapi= executable that generates ocaml code from an OpenAPI
  spec.
- ./[[./lib/][lib]]  :: The internal library used by the =oooapi= executable.
- [[./openapi_spec][./openapi_spec]] :: A library implementing a (partial) representation of the
  OpenAPI spec, via ATD specs.
- [[./vendor][./vendor]]  :: Vendored libraries. Currently only including
  =json-data-encoding=, which is used for its JSON spec support.

* TODO Architecture

spec -> Openapi_spec.parse -> Openapi_spec.resolve_refs -> Http_spec.of_openapi
-> Oooapi.make_client

* Testing

To test spec parsing and client generation, run

#+begin_src sh
dune test
#+end_src

To run the end to end tests against the OpenAI API

#+begin_src sh
export OPENAI_API_KEY=<your-api-key>
export LOCAL_TESTS=true
#+end_src
